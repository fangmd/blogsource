---
title: 自己动手设计数据库
date: 2018-08-31 13:18:12
tags: [数据库]
category: 读书笔记

---


# 第 1 章 关系数据库

## 早期数据库模型

### 层次数据库模型

类似公司组织架构。

父表可以与多个子表相连，子表子能有一个父表。

字表存储一个数据都必须与父表关联。

多对多情况下会产生冗余数据

### 网状数据库模型

解决层次数据库出现的一些问题。

## 关系数据库模型


关系模型将关系分为 一对一，一对多，多对多。

两个表之间的关系通过匹配一个共享字段的值来隐形建立。

### 检索数据

结构化查询语言 SQL

### 关系型数据库的优势

1. 内置多层次完整性
2. 数据在逻辑和物理上都独立与数据库
3. 确保数据一致性和准确性
4. 简便的数据检索

## 关系数据库管理系统

RDBMS， 一种应用程序，可以用来创建，维护，修改以及操作关系数据库。

# 第 2 章 设计目标

## 为什么要关注数据库设计

数据库设计对于数据库中数据的一致性，完整性和准确性至关重要。

## 优秀设计的目标

- 数据库应支持设定的和即时的信息检索
- 正确且高效的构建表
- 数据完整性落实到字段，表以及关系层次
- 数据库支持与组织相关的业务规则
- 数据库适应未来发展


## 优秀设计好处

- 数据库结构易于修改和维护
- 数据易于修改
- 信息易于检索
- 终端用户应用易于开发和创建

## 数据库设计方法

### 传统设计方法

需求分析，数据建模，规范化

数据建模阶段，每个表都需要指定一个 主键，通过 外键 建立关系。

规范化：将大表分解成小表的过程，减少冗余数据和重复数据。

## 规范化

传统规范化方法并不好用

# 第 3 章 术语

## 术语为何重要

1. 用于表达和定义关系数据库模型的特殊思想和概念
2. 用于表达和定义数据库设计过程本身
3. 用于讨论关系数据库或 RDBMS


## 关于值的术语

数据：data，无意义

信息：由 数据 组成，有意义

存储的是数据，检索的是信息。

空值（null）：缺失值，未知值

## 关于结构的术语

**表**

- 每个表包含至少一个称为主键的字段

数据表： 存储数据的表称为

验证表（查找表）：存储专门用于实现数据完整性的数据，属于静态表。

**字段（属性）**

- 数据库中最小结构

1. 复合字段：包含两个或以上不同项
2. 多值字段：包含多个相同类型的值
3. 计算字段

**记录（元组）**

**视图**：一个虚表，由数据库中一个或多个表的字段组成，组成视图的表称为基表。

为什么称为虚表：因为视图只是从基表中获取数据，而不存储数据。


视图的重要：

1. 可用于同时处理多个表中的数据。
2. 可用以防止某些用户查看或操作单个表或一组表中特定字段。
3. 可用于实现数据完整性。

**键**

主键是整个表中最为重要的键：

- 主键值在整个数据库中表识某一特定记录
- 主键字段在整个数据库中表识给定的某个表
- 主键实现表层次的完整性，与数据库中其他表建立关系。

将一个表中的主键作为另一个表的外键，实现两个表的连接。

## 关于关系的术语

**关系**

表和表之间联系产生的方式：使用主键和外键，借助第三个表（联系表，关联表）。


**关系类型**

- 一对一关系
- 一对多关系
- 多对多关系：需要联系表实现关联

**参与的类型**

一个表插入数据时，另一个表是否必须更新。

- 强制的
- 可选的

**参与度**

作用：

1. 确定某一特定表中必须与关联表中的单一记录相关联的最好记录条数
2. 确定某一特定表中被允许与关联表中单一记录相关联的最多纪录条数


## 关于完整性的术语

**字段说明**

- 一般元素：字段名称，描述，父表
- 物理元素
- 逻辑元素

**数据完整性**

数据库中数据的有效性，一致性和准确性。

1. 表层次完整性：确保表中无重复数据，记录标识唯一不为空值
2. 字段级完整性：每个字段的结构健全，每个字段的值有效
3. 关系层次完整性：表之间的关系健全。
4. 业务规则

# 第 4 章 概念性概述

## 完成设计过程的重要性

数据库中结构完整性和数据完整性的水平与贯彻设计过程的程度成正比。

## 明确宗旨和任务目标

## 分析现有数据库

## 创建数据结构

定义表和字段，建立键，以及为每个字段定义字段说明。

## 确定和建立表关系

## 确定和定义业务规则

确定数据库各方面的限制，建立业务规则，以及定义和实现验证表。

## 确定和定义视图

了解用户如何使用各自的数据，确定数据库中红需要建立的视图类型。

## 审核数据完整性

1. 审核每个表，确保其符合正确设计的标准
2. 审核和检查每个字段的字段说明
3. 检查每种关系的有效性，确认关系类型，以及确定关系中每个表的参与特征。
4. 审核之前确定的业务规则并确认数据库各方面的限制

# 第 5 章 大幕开启

# 第 6 章 分析现有数据库

# 第 7 章 建立表结构

# 第 8 章 键

键类型：

1. 候选键
2. 主键
3. 外键
4. 非键

# 第 9 章 字段说明

字段说明重要的原因：

1. 字段说明有助于建立和执行字段级完整性
2. 未每个字段定义字段说明能提升整体数据完整性
3. 定义字段说明能获得对数据的性质和用途的完整认识
4. 字段说明构成数据库的“数据字典”

# 第 10 章 表关系

关系是关系数据库的重要组成部分：

1. 对于存在逻辑联系的两个表，可在两表之间建立连接
2. 有助于进一步改进表结构和将冗余数据减少至最少
3. 这种机制能实现同时多个表中提取数据

自联结关系：表内部记录之间的关系















